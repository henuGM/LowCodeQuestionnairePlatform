{"version":3,"file":"static/js/editPage.3e43e398.chunk.js","mappings":"2JACA,QAA4B,wBAA5B,EAAsE,8BAAtE,EAA8G,sBAA9G,EAA2I,mBAA3I,EAAqK,mBAArK,EAAyM,6BAAzM,EAA8O,oBCA9O,EAAyB,2BAAzB,EAAwE,sCAAxE,EAAyH,6BAAzH,EAA+J,2BAA/J,EAAsM,8B,8GCStM,MA6BA,EA7BuCA,IACnC,MAAM,SAACC,EAAQ,MAACC,EAAK,UAACC,GAAWH,EAC3BI,GAAQC,EAAAA,EAAAA,KACVC,EAAAA,EAAAA,IAAUC,EAAAA,GAAY,CAClBC,qBAAqB,CACjBC,SAAS,MAerB,OACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAU,CAACP,QAASA,EAASQ,mBAAoBC,EAAAA,GAAeV,UAXrE,SAAuBW,GACnB,MAAM,OAACC,EAAM,KAACC,GAAMF,EACpB,GAAS,MAANE,GACAD,EAAOE,KAAKD,EAAKC,GAAG,CACnB,MAAMC,EAAShB,EAAMiB,WAAUC,GAAGA,EAAEC,QAAQN,EAAOE,KAC7CK,EAASpB,EAAMiB,WAAUC,GAAGA,EAAEC,QAAQL,EAAKC,KACjDd,EAAUe,EAASI,EACvB,CACJ,EAG8FrB,UACxFS,EAAAA,EAAAA,KAACa,EAAAA,GAAe,CAACrB,MAAOA,EAAOsB,SAAUC,EAAAA,GAA4BxB,SAClEA,KAEQ,E,eC1BrB,MAeA,EAfoCyB,IAAuB,IAAtB,GAAET,EAAE,SAAEhB,GAAUyB,EACnD,MAAM,WAAEC,EAAU,UAAEC,EAAS,WAAEC,EAAU,UAAEC,EAAS,WAAEC,IAAeC,EAAAA,EAAAA,IAAY,CAAEf,OAE7EgB,EAAQ,CACZH,UAAWI,EAAAA,GAAIC,UAAUC,SAASN,GAClCC,cAGF,OACErB,EAAAA,EAAAA,KAAA,OAAK2B,IAAKR,EAAYI,MAAOA,KAAWN,KAAgBC,EAAS3B,SAC9DA,GACG,ECAV,SAASqC,EAAaC,GACpB,MAAM,KAAEC,EAAI,MAAExC,GAAUuC,EAElBE,GAAgBC,EAAAA,EAAAA,GAAuBF,GAC7C,GAAqB,MAAjBC,EAAuB,OAAO,KAElC,MAAM,UAAEE,GAAcF,EACtB,OAAO/B,EAAAA,EAAAA,KAACiC,EAAS,IAAK3C,GACxB,CAEA,MAyDA,EAzDkC0B,IAAkB,IAAjB,QAAEkB,GAASlB,EAC5C,MAAM,cAAEmB,EAAa,WAAEC,EAAa,KAAOC,EAAAA,EAAAA,KACrCC,GAAWC,EAAAA,EAAAA,MAQjB,GAAIL,EACF,OACElC,EAAAA,EAAAA,KAAA,OAAKuB,MAAO,CAAEiB,UAAW,SAAUC,UAAW,QAASlD,UACrDS,EAAAA,EAAAA,KAAC0C,EAAAA,EAAI,MAIX,MAAMC,EAAsBR,EAAcS,KAAKlC,IACtC,IAAKA,EAAGH,GAAIG,EAAEC,UAOvB,OACEX,EAAAA,EAAAA,KAAC6C,EAAiB,CAACrD,MAAOmD,EAAqBlD,UALjD,SAAuBe,EAAkBI,GACvC0B,GAASQ,EAAAA,EAAAA,IAAc,CAAEtC,WAAUI,aACrC,EAG0ErB,UACtES,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAczD,SAC3B4C,EACEc,QAAQvC,IAAOA,EAAEwC,WACjBN,KAAKlC,IACJ,MAAM,MAAEC,EAAK,SAAEwC,GAAazC,EAEtB0C,EAA0BJ,EAC1BK,EAAoBL,EACpBM,EAAkBN,EAClBO,EAAmBC,IAAW,CAClC,CAACJ,IAA0B,EAC3B,CAACC,GAAoB1C,IAAUyB,EAC/B,CAACkB,GAAkBH,IAErB,OACEnD,EAAAA,EAAAA,KAACyD,EAAY,CAAalD,GAAII,EAAMpB,UAClCS,EAAAA,EAAAA,KAAA,OACE+C,UAAWQ,EACXG,QAAUC,IAAMC,OAxCQrD,EAwCOI,EAAHgD,EAvCpCE,uBACNvB,GAASwB,EAAAA,EAAAA,IAAiBvD,IAF5B,IAAwCA,CAwCc,EAAAhB,UAEtCS,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAiBzD,SAAEqC,EAAalB,QALjCC,EAOJ,OAIL,E,0DClFxB,QAA0B,8BAA1B,EAAoE,gC,eCUpE,MAAM,MAAEoD,GAAUC,EAAAA,EAyBlB,MAwBA,EAxBgBC,KAEZjE,EAAAA,EAAAA,KAAAkE,EAAAA,SAAA,CAAA3E,SACG4E,EAAAA,EAAmBvB,KAAI,CAACwB,EAAOC,KAC9B,MAAM,QAAEC,EAAO,UAAEC,EAAS,WAAEC,GAAeJ,EAC3C,OACEK,EAAAA,EAAAA,MAAA,OAAAlF,SAAA,EACES,EAAAA,EAAAA,KAAC+D,EAAK,CACJW,MAAO,EACPnD,MAAO,CACLoD,SAAU,OACVlC,UAAW4B,EAAQ,EAAI,MAAQ,OAC/B9E,SAEDgF,IAEFC,EAAW5B,KAAKlC,GAvC7B,SAAsBA,GACpB,MAAM,MAAEkE,EAAK,KAAE9C,EAAI,UAAEG,EAAS,aAAE4C,GAAiBnE,EAC3C4B,GAAWC,EAAAA,EAAAA,MAYjB,OACEvC,EAAAA,EAAAA,KAAA,OAAgB+C,UAAWC,EAAgBU,QAX7C,WACEpB,GACEwC,EAAAA,EAAAA,IAAa,CACXnE,OAAOoE,EAAAA,EAAAA,MACPH,QACA9C,OACAxC,MAAOuF,IAGb,EAEkEtF,UAC9DS,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAiBzD,UAC/BS,EAAAA,EAAAA,KAACiC,EAAS,OAFJH,EAMd,CAkBmCkD,CAAatE,OAV5B4D,EAWJ,M,qCCpDhB,QAA0B,wBAA1B,EAA0D,sBAA1D,EAA2F,yBAA3F,EAA8H,wBAA9H,EAA4J,oB,0BCe5J,MAoGA,EApGmBW,KACjB,MAAM,cAAE9C,EAAa,WAAEC,IAAeC,EAAAA,EAAAA,KAChCC,GAAWC,EAAAA,EAAAA,OAEV2C,EAAiBC,IAAsBC,EAAAA,EAAAA,UAAS,IAiBvD,SAASC,EAAYjF,GACnB,MAAMkF,EAAWlF,EAAMmF,OAAOC,MAAMC,OAC/BH,GACAlD,GACLE,GAASoD,EAAAA,EAAAA,IAAqB,CAAE/E,MAAOyB,EAAYwC,MAAOU,IAC5D,CAUA,MAAM3C,EAAsBR,EAAcS,KAAKlC,IACtC,IAAKA,EAAGH,GAAIG,EAAEC,UAOvB,OACEX,EAAAA,EAAAA,KAAC6C,EAAiB,CAACrD,MAAOmD,EAAqBlD,UALjD,SAAuBe,EAAkBI,GACvC0B,GAASQ,EAAAA,EAAAA,IAAc,CAACtC,WAASI,aACnC,EAG0ErB,SACrE4C,EAAcS,KAAKlC,IAClB,MAAM,MAAEC,EAAK,MAAEiE,EAAK,SAAE1B,EAAQ,SAAEC,GAAazC,EAEvCiF,EAAwB3C,EACxBK,EAAoBL,EACpB4C,EAAiBpC,IAAW,CAChC,CAACmC,IAAwB,EACzB,CAACtC,GAAoB1C,IAAUyB,IAEjC,OACEpC,EAAAA,EAAAA,KAACyD,EAAY,CAAalD,GAAII,EAAMpB,UAClCkF,EAAAA,EAAAA,MAAA,OAAK1B,UAAWC,EAAezD,SAAA,EAC7BkF,EAAAA,EAAAA,MAAA,OACE1B,UAAW6C,EACXlC,QAASA,IAtDvB,SAA0B/C,GACxB,MAAMkF,EAAU1D,EAAc2D,MAAMpF,GAAMA,EAAEC,QAAUA,IACtD,IAAIkF,IAAWA,EAAQ3C,SAIvB,OAAIvC,IAAUyB,GACZE,GAASwB,EAAAA,EAAAA,IAAiBnD,SAC1BwE,EAAmB,UAIrBA,EAAmBxE,GATjBoF,EAAAA,GAAQC,KAAK,yDAUjB,CAyC6BC,CAAiBtF,GAAOpB,SAAA,CAEtCoB,IAAUuE,IACTlF,EAAAA,EAAAA,KAACkG,EAAAA,EAAK,CACJV,MAAOZ,EACPuB,SAAUd,EACVe,aAAcA,IAAMjB,EAAmB,IACvCkB,OAAQA,IAAMlB,EAAmB,MAGpCxE,IAAUuE,GAAmBN,MAEhC5E,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAezD,UAC7BkF,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLC,KAAK,QACLC,MAAM,SACN1D,UAAYG,EAAwB,GAAbF,EACvB0D,MAAM1G,EAAAA,EAAAA,KAAC2G,EAAAA,EAAoB,IAC3B7E,KAAMoB,EAAW,UAAY,OAC7BQ,QAASA,IApD3B,SAAsB/C,EAAeuC,GACnCZ,GAASsE,EAAAA,EAAAA,IAAsB,CAAEjG,QAAOuC,aAC1C,CAkDiC2D,CAAalG,GAAQuC,MAEtClD,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLC,KAAK,QACLC,MAAM,SACN1D,UAAYI,EAAwB,GAAbH,EACvB0D,MAAM1G,EAAAA,EAAAA,KAAC8G,EAAAA,EAAY,IACnBhF,KAAMqB,EAAW,UAAY,OAC7BO,QAASA,IAxD3B,SAAsB/C,GACpB2B,GAASyE,EAAAA,EAAAA,IAAsB,CAAEpG,UACnC,CAsDiCqG,CAAarG,cAhCnBA,EAqCJ,KAGD,ECjFxB,EA1BsBsG,KACpB,MAAMC,EAAY,CAChB,CACEC,IAAK,eACLC,OACE3C,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAACqH,EAAAA,EAAgB,IAAG,wBAIxB9H,UAAUS,EAAAA,EAAAA,KAACiE,EAAG,KAEhB,CACEkD,IAAK,SACLC,OACE3C,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAACsH,EAAAA,EAAY,IAAG,kBAIpB/H,UAAUS,EAAAA,EAAAA,KAACiF,EAAM,MAGrB,OAAOjF,EAAAA,EAAAA,KAACuH,EAAAA,EAAI,CAACC,iBAAiB,eAAehI,MAAO0H,GAAa,E,4BCnBnE,MAAMO,GAAaA,KACVzH,EAAAA,EAAAA,KAAA,OAAKuB,MAAO,CAAEiB,UAAW,UAAWjD,SAAC,mCA2B9C,GAxB0BmI,KACxB,MAAMpF,GAAWC,EAAAA,EAAAA,OACX,kBAAEoF,IAAsBtF,EAAAA,EAAAA,KAC9B,GAAyB,MAArBsF,EAA2B,OAAO3H,EAAAA,EAAAA,KAACyH,GAAM,IAC7C,MAAM,KAAE3F,EAAI,MAAExC,EAAK,SAAE6D,EAAQ,SAAED,GAAayE,EACtC5F,GAAgBC,EAAAA,EAAAA,GAAuBF,GAC7C,GAAqB,MAAjBC,EAAuB,OAAO/B,EAAAA,EAAAA,KAACyH,GAAM,IACzC,MAAM,cAAEG,GAAkB7F,EAQ1B,OACE/B,EAAAA,EAAAA,KAAC4H,EAAa,IACRtI,EACJ6G,SATJ,SAAqB0B,GACnB,GAAyB,MAArBF,EAA2B,OAC/B,MAAM,MAAEhH,GAAUgH,EAClBrF,GAASwF,EAAAA,EAAAA,IAAqB,CAAEnH,QAAOkH,aACzC,EAMIE,SAAU5E,GAAYD,GACtB,E,sCC3BN,MAAM,SAAE8E,IAAa9B,EAAAA,EAsCrB,GApCwB+B,KACtB,MAAMC,GAAWC,EAAAA,GAAAA,MACVC,GAAQC,GAAAA,EAAKC,UACdhG,GAAWC,EAAAA,EAAAA,MAUjB,OARAgG,EAAAA,EAAAA,YAAU,KACRH,EAAKI,eAAeN,EAAS,GAC5B,CAACA,KAOFzD,EAAAA,EAAAA,MAAC4D,GAAAA,EAAI,CACHI,OAAO,WACPC,cAAeR,EACfS,eARJ,WACErG,GAASsG,EAAAA,GAAAA,IAAcR,EAAKS,kBAC9B,EAOIT,KAAMA,EAAK7I,SAAA,EAEXS,EAAAA,EAAAA,KAACqI,GAAAA,EAAKS,KAAI,CAAC1B,MAAM,2BAAO2B,KAAK,QAAQC,MAAO,CAAC,CAAEC,UAAU,EAAMlD,QAAS,mCAAWxG,UACjFS,EAAAA,EAAAA,KAACkG,EAAAA,EAAK,CAACgD,YAAY,sCAErBlJ,EAAAA,EAAAA,KAACqI,GAAAA,EAAKS,KAAI,CAAC1B,MAAM,2BAAO2B,KAAK,OAAMxJ,UACjCS,EAAAA,EAAAA,KAACgI,GAAQ,CAACkB,YAAY,mCAExBlJ,EAAAA,EAAAA,KAACqI,GAAAA,EAAKS,KAAI,CAAC1B,MAAM,2BAAO2B,KAAK,MAAKxJ,UAChCS,EAAAA,EAAAA,KAACgI,GAAQ,CAACkB,YAAY,oDAExBlJ,EAAAA,EAAAA,KAACqI,GAAAA,EAAKS,KAAI,CAAC1B,MAAM,2BAAO2B,KAAK,KAAIxJ,UAC/BS,EAAAA,EAAAA,KAACgI,GAAQ,CAACkB,YAAY,oDAEnB,ECnC6B,IAEnCC,GAAQ,SAARA,GAAQ,OAARA,EAAQ,gBAARA,EAAQ,sBAARA,CAAQ,EAARA,IAAQ,IAIb,MAkCA,GAlCuBC,KACrB,MAAOC,EAAWC,IAAgBlE,EAAAA,EAAAA,UAAS+D,GAASI,WAC9C,WAAEnH,IAAeC,EAAAA,EAAAA,MAEvBkG,EAAAA,EAAAA,YAAU,KACQe,EAAZlH,EAAyB+G,GAASI,SACpBJ,GAASK,YAAY,GACtC,CAACpH,IAEJ,MAAM8E,EAAY,CAChB,CACEC,IAAKgC,GAASI,SACdnC,OACE3C,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAACyJ,GAAAA,EAAgB,IAAG,kBAIxBlK,UAAUS,EAAAA,EAAAA,KAAC0H,GAAa,KAE1B,CACEP,IAAKgC,GAASK,YACdpC,OACE3C,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAAC0J,GAAAA,EAAe,IAAG,8BAIvBnK,UAAUS,EAAAA,EAAAA,KAACiI,GAAW,MAG1B,OAAOjI,EAAAA,EAAAA,KAACuH,EAAAA,EAAI,CAAC8B,UAAWA,EAAW7J,MAAO0H,GAAa,E,gBCzCzD,SAAiC,mCAAjC,GAA6E,2BAA7E,GAA6G,uBAA7G,GAA2I,yBAA3I,GAA2K,yBAA3K,GAA4M,0B,gJCyB5M,MAkHA,GAlHwByC,KACtB,MAAMrH,GAAWC,EAAAA,EAAAA,OACX,WAAEH,EAAU,kBAAEuF,EAAiB,gBAAEiC,EAAe,cAAEzH,IACtDE,EAAAA,EAAAA,MACI,SAAEc,GAAawE,GAAqB,CAAC,EACrCkC,EAAS1H,EAAc0H,OACvBC,EAAgB3H,EAAc1B,WAAWC,GAAMA,EAAEC,QAAUyB,IAC3D2H,EAAUD,GAAiB,EAC3BE,EAASF,EAAgB,GAAKD,EA6CpC,OACEpF,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLE,MAAM,SACNC,MAAM1G,EAAAA,EAAAA,KAACkK,GAAAA,EAAc,IACrBxG,QAjDR,WACEpB,GAAS6H,EAAAA,EAAAA,MACX,OAkDInK,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLE,MAAM,SACNC,MAAM1G,EAAAA,EAAAA,KAAC2G,EAAAA,EAAoB,IAC3BjD,QApDR,WACEpB,GAASsE,EAAAA,EAAAA,IAAsB,CAAEjG,MAAOyB,EAAYc,UAAU,IAChE,OAqDIlD,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLE,MAAM,SACNC,MAAM1G,EAAAA,EAAAA,KAAC8G,EAAAA,EAAY,IACnBpD,QAvDR,WACEpB,GAASyE,EAAAA,EAAAA,IAAsB,CAAEpG,MAAOyB,IAC1C,EAsDQN,KAAMqB,EAAW,UAAY,eAGjCnD,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CAACE,MAAM,SAASC,MAAM1G,EAAAA,EAAAA,KAACoK,GAAAA,EAAY,IAAK1G,QAxDrD,WACEpB,GAAS+H,EAAAA,EAAAA,MACX,OAwDIrK,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLE,MAAM,SACNC,MAAM1G,EAAAA,EAAAA,KAACsK,GAAAA,EAAa,IACpB5G,QA1DR,WACEpB,GAASiI,EAAAA,EAAAA,MACX,EAyDQxC,SAA6B,MAAnB6B,OAGd5J,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLE,MAAM,SACNC,MAAM1G,EAAAA,EAAAA,KAACwK,GAAAA,EAAU,IACjB9G,QA9DR,WACMqG,GACJzH,GACEQ,EAAAA,EAAAA,IAAc,CAAEtC,SAAUsJ,EAAelJ,SAAUkJ,EAAgB,IAEvE,EA0DQ/B,SAAUgC,OAGd/J,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLE,MAAM,SACNC,MAAM1G,EAAAA,EAAAA,KAACyK,GAAAA,EAAY,IACnB/G,QA/DR,WACMsG,GACJ1H,GACEQ,EAAAA,EAAAA,IAAc,CAAEtC,SAAUsJ,EAAelJ,SAAUkJ,EAAgB,IAEvE,EA2DQ/B,SAAUiC,OAGdhK,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CAACE,MAAM,SAASC,MAAM1G,EAAAA,EAAAA,KAAC0K,GAAAA,EAAY,IAAKhH,QA7DrD,WACEpB,EAASqI,GAAAA,GAAmBC,OAC9B,OA6DI5K,EAAAA,EAAAA,KAACiK,GAAAA,EAAO,CAACrF,MAAM,eAAIrF,UACjBS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CAACE,MAAM,SAASC,MAAM1G,EAAAA,EAAAA,KAAC6K,GAAAA,EAAY,IAAKnH,QA3DrD,WACEpB,EAASqI,GAAAA,GAAmBG,OAC9B,QA2DU,E,oDC3HZ,MAAQ/G,MAAM,IAAIC,EAAAA,EAEZ+G,GAAgBA,KACpB,MAAM,MAAEnG,IAAUuD,EAAAA,GAAAA,KACZ6C,GAAWC,EAAAA,EAAAA,QAAiB,MAC5B3I,GAAWC,EAAAA,EAAAA,OAEV2I,EAAWC,IAAgB/F,EAAAA,EAAAA,WAAS,GAQ3C,OAAI8F,GAEAlL,EAAAA,EAAAA,KAACkG,EAAAA,EAAK,CACJvE,IAAKqJ,EACLxF,MAAOZ,EACPuB,SAXN,SAAsB/F,GACpB,MAAMkF,EAAWlF,EAAMmF,OAAOC,MAAMC,OAC/BH,GACLhD,GAAS8I,EAAAA,GAAAA,IAAgB9F,GAC3B,EAQMc,aAAcA,IAAM+E,GAAa,GACjC9E,OAAQA,IAAM8E,GAAa,MAM/B1G,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAC/E,MAAO,CAAE8J,OAAQ,WAAY9L,SAAA,EAClCS,EAAAA,EAAAA,KAAC+D,GAAK,CAAChB,UAAWC,GAAUzD,SAAEqF,KAC9B5E,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CACLG,MAAM1G,EAAAA,EAAAA,KAACsL,GAAAA,EAAY,IACnBxJ,KAAK,OACL4B,QAASA,KACPyH,GAAa,GACbI,YAAW,KACTP,EAASQ,QAASC,MAAM,CACtBC,OAAQ,OACR,GACD,IAAI,MAGL,EAINC,GAAiBA,KACrB,MAAM,GAAEpL,IAAOqL,EAAAA,GAAAA,MACT,cAAEzJ,EAAgB,KAAOE,EAAAA,EAAAA,KACzB6F,GAAWC,EAAAA,GAAAA,MAEX,QAAEjG,EAAS2J,IAAKC,IAASC,EAAAA,GAAAA,IAC7BC,UACOzL,SACC0L,EAAAA,GAAAA,IAAsB1L,EAAI,IAAK2H,EAAU/F,iBAAgB,GAEjE,CAAE+J,QAAQ,IAkBZ,OAfAC,EAAAA,GAAAA,GAAY,CAAC,SAAU,WAAY/L,IACjCA,EAAMgM,iBACDlK,GAAS4J,GAAM,KAGtBO,EAAAA,GAAAA,IACE,KACEP,GAAM,GAER,CAAC3J,EAAe+F,GAChB,CACEoE,KAAM,OAKRtM,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CAAC7C,QAASoI,EAAM/D,SAAU7F,EAASwE,KAAMxE,GAAUlC,EAAAA,EAAAA,KAACuM,GAAAA,EAAe,IAAM,KAAKhN,SAAC,gBAE7E,EAKPiN,GAAoBA,KACxB,MAAMC,GAAMC,EAAAA,GAAAA,OACN,GAAEnM,IAAOqL,EAAAA,GAAAA,MACT,cAAEzJ,EAAgB,KAAOE,EAAAA,EAAAA,KACzB6F,GAAWC,EAAAA,GAAAA,MAEX,QAAEjG,EAAS2J,IAAKc,IAAQZ,EAAAA,GAAAA,IAC5BC,UACOzL,SACC0L,EAAAA,GAAAA,IAAsB1L,EAAI,IAC3B2H,EACH/F,gBACAyK,aAAa,GACb,GAEJ,CACEV,QAAQ,EACRW,SAAAA,GACE9G,EAAAA,GAAQ+G,QAAQ,4BAChBL,EAAI,kBAAoBlM,EAC1B,IAIJ,OACEP,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CAACzE,KAAK,UAAU4B,QAASiJ,EAAK5E,SAAU7F,EAAQ3C,SAAC,gBAE/C,EAiCb,GA5BuBwN,KACrB,MAAMN,GAAMC,EAAAA,GAAAA,MAEZ,OACE1M,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,GAAyBzD,UACvCkF,EAAAA,EAAAA,MAAA,OAAK1B,UAAWC,GAAczD,SAAA,EAC5BS,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,GAAYzD,UAC1BkF,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAACuG,EAAAA,GAAM,CAACzE,KAAK,OAAO4E,MAAM1G,EAAAA,EAAAA,KAACgN,GAAAA,EAAY,IAAKtJ,QAASA,IAAM+I,GAAK,GAAGlN,SAAC,kBAGpES,EAAAA,EAAAA,KAAC+K,GAAS,UAGd/K,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,GAAYzD,UAC1BS,EAAAA,EAAAA,KAAC2J,GAAW,OAEd3J,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,GAAazD,UAC3BkF,EAAAA,EAAAA,MAAC6B,EAAAA,EAAK,CAAA/G,SAAA,EACJS,EAAAA,EAAAA,KAAC2L,GAAU,KACX3L,EAAAA,EAAAA,KAACwM,GAAa,aAIhB,EC5IV,SAASS,KACP,MAAMC,EAAaC,SAASC,cAE5B,OAAIF,GAAcC,SAASE,QACb,OAAVH,QAAU,IAAVA,IAAAA,EAAYI,QAAQ,sBAG1B,CA+CA,SA7CA,WACE,MAAMhL,GAAWC,EAAAA,EAAAA,OAEjB4J,EAAAA,GAAAA,GAAY,CAAC,YAAa,WAAW,KAC9Bc,MACL3K,GAAS6H,EAAAA,EAAAA,MAA0B,KAGrCgC,EAAAA,GAAAA,GAAY,CAAC,SAAU,WAAW,KAC3Bc,MACL3K,GAAS+H,EAAAA,EAAAA,MAAwB,KAGnC8B,EAAAA,GAAAA,GAAY,CAAC,SAAU,WAAW,KAC3Bc,MACL3K,GAASiI,EAAAA,EAAAA,MAAuB,KAGlC4B,EAAAA,GAAAA,GAAY,WAAW,KAChBc,MACL3K,GAASiL,EAAAA,EAAAA,MAAsB,KAGjCpB,EAAAA,GAAAA,GAAY,aAAa,KAClBc,MACL3K,GAASkL,EAAAA,EAAAA,MAAsB,KAGjCrB,EAAAA,GAAAA,GACE,CAAC,SAAU,WACX,KACOc,MACL3K,EAASqI,GAAAA,GAAmBC,OAAO,GAErC,CACE6C,YAAY,KAIhBtB,EAAAA,GAAAA,GAAY,CAAC,eAAgB,iBAAiB,KACvCc,MACL3K,EAASqI,GAAAA,GAAmBG,OAAO,GAEvC,ECzBA,GA5BiB4C,KACf,MAAM,QAAExL,EAAO,KAAEyL,IAASC,EAAAA,EAAAA,KACpBtL,GAASC,EAAAA,EAAAA,MAOf,OANAsL,MAOEpJ,EAAAA,EAAAA,MAAA,OAAK1B,UAAWC,EAAiBzD,SAAA,EAC/BS,EAAAA,EAAAA,KAAA,OAAKuB,MAAO,CAACuM,gBAAgB,QAAQvO,UACnCS,EAAAA,EAAAA,KAAC+M,GAAU,OAEb/M,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAA0BzD,UACxCkF,EAAAA,EAAAA,MAAA,OAAK1B,UAAWC,EAAezD,SAAA,EAC7BS,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAYzD,UAACS,EAAAA,EAAAA,KAACiH,EAAS,OACvCjH,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAaU,QAZrC,WACEpB,GAASwB,EAAAA,EAAAA,IAAiB,IAC5B,EAU8DvE,UACpDS,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAyBzD,UACvCS,EAAAA,EAAAA,KAAC+N,EAAU,CAAC7L,QAASA,SAGzBlC,EAAAA,EAAAA,KAAA,OAAK+C,UAAWC,EAAazD,UAACS,EAAAA,EAAAA,KAACoJ,GAAU,aAGzC,C","sources":["webpack://wenjuan/./src/pages/question/Edit/index.module.scss?bf24","webpack://wenjuan/./src/pages/question/Edit/EditCanvas.module.scss?f695","components/DragSortable/SortableContainer.tsx","components/DragSortable/SortableItem.tsx","pages/question/Edit/EditCanvas.tsx","webpack://wenjuan/./src/pages/question/Edit/ComponentLib.module.scss?fd5c","pages/question/Edit/ComponentLib.tsx","webpack://wenjuan/./src/pages/question/Edit/Layers.module.scss?37f4","pages/question/Edit/Layers.tsx","pages/question/Edit/LeftPanel.tsx","pages/question/Edit/ComponentProp.tsx","pages/question/Edit/PageSetting.tsx","pages/question/Edit/RightPanel.tsx","webpack://wenjuan/./src/pages/question/Edit/EditHeader.module.scss?c967","pages/question/Edit/EditToolbar.tsx","pages/question/Edit/EditHeader.tsx","hooks/useBindCanvasKeyPress.tsx","pages/question/Edit/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Edit_container__G3Rbz\",\"content-wrapper\":\"Edit_content-wrapper__UrZLV\",\"content\":\"Edit_content__+CP05\",\"left\":\"Edit_left__GfCmr\",\"main\":\"Edit_main__ol4VE\",\"canvas-wrapper\":\"Edit_canvas-wrapper__cVXTX\",\"right\":\"Edit_right__Ujxri\"};","// extracted by mini-css-extract-plugin\nexport default {\"canvas\":\"EditCanvas_canvas__X1YZ-\",\"component-wrapper\":\"EditCanvas_component-wrapper__T91W6\",\"selected\":\"EditCanvas_selected__S041I\",\"locked\":\"EditCanvas_locked__3BAzF\",\"component\":\"EditCanvas_component__ygwF-\"};","import { DndContext, DragEndEvent, MouseSensor, closestCenter, useSensor, useSensors } from \"@dnd-kit/core\";\r\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\r\nimport React, { FC } from \"react\";\r\n\r\ntype PropsType={\r\n    children: JSX.Element | JSX.Element[]\r\n    items:Array<{id:string;[key:string]:any}>\r\n    onDragEnd: (oldIndex: number, newIndex: number) => void\r\n}\r\n\r\nconst SortableContainer:FC<PropsType>=(props:PropsType)=>{\r\n    const {children,items,onDragEnd}=props;\r\n    const sensors=useSensors(\r\n        useSensor(MouseSensor,{\r\n            activationConstraint:{\r\n                distance:8\r\n            }\r\n        })\r\n    )\r\n\r\n    function handleDragEnd(event:DragEndEvent){\r\n        const {active,over}=event;\r\n        if(over==null) return;\r\n        if(active.id!==over.id){\r\n            const oldIndex=items.findIndex(c=>c.fe_id===active.id);\r\n            const newIndex=items.findIndex(c=>c.fe_id===over.id);\r\n            onDragEnd(oldIndex,newIndex);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\r\n          <SortableContext items={items} strategy={verticalListSortingStrategy}>\r\n            {children}\r\n          </SortableContext>\r\n        </DndContext>\r\n      )\r\n}\r\n\r\nexport default SortableContainer;","import React, { FC } from 'react'\r\nimport { useSortable } from '@dnd-kit/sortable'\r\nimport { CSS } from '@dnd-kit/utilities'\r\n\r\ntype PropsType = {\r\n  id: string\r\n  children: JSX.Element\r\n}\r\n\r\nconst SortableItem: FC<PropsType> = ({ id, children }) => {\r\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id })\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n  }\r\n\r\n  return (\r\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SortableItem\r\n","import React, { FC, MouseEvent } from \"react\";\r\nimport styles from \"./EditCanvas.module.scss\";\r\nimport { Spin } from \"antd\";\r\nimport useGetComponentInfo from \"../../../hooks/useGetComponentInfo\";\r\nimport {\r\n  ComponentInfoType,\r\n  changeSelectedId,\r\n  moveComponent,\r\n} from \"../../../store/ComponentsReducer\";\r\nimport { getComponentConfByType } from \"../../../components/QuestionComponents\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport useBindCanvasKeyPress from \"../../../hooks/useBindCanvasKeyPress\";\r\nimport SortableContainer from \"../../../components/DragSortable/SortableContainer\";\r\nimport SortableItem from \"../../../components/DragSortable/SortableItem\";\r\n\r\ntype PropsType = {\r\n  loading: boolean;\r\n};\r\n\r\nfunction genComponent(componentInfo: ComponentInfoType) {\r\n  const { type, props } = componentInfo;\r\n\r\n  const componentConf = getComponentConfByType(type);\r\n  if (componentConf == null) return null;\r\n\r\n  const { Component } = componentConf;\r\n  return <Component {...props} />;\r\n}\r\n\r\nconst EditCanvas: FC<PropsType> = ({ loading }) => {\r\n  const { componentList, selectedId = \"\" } = useGetComponentInfo();\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  function handleClick(event: MouseEvent, id: string) {\r\n    event.stopPropagation();\r\n    dispatch(changeSelectedId(id));\r\n  }\r\n\r\n  if (loading)\r\n    return (\r\n      <div style={{ textAlign: \"center\", marginTop: \"24px\" }}>\r\n        <Spin />\r\n      </div>\r\n    );\r\n\r\n  const componentListWithId = componentList.map((c) => {\r\n    return { ...c, id: c.fe_id };\r\n  });\r\n\r\n  function handleDragEnd(oldIndex: number, newIndex: number) {\r\n    dispatch(moveComponent({ oldIndex, newIndex }));\r\n  }\r\n\r\n  return (\r\n    <SortableContainer items={componentListWithId} onDragEnd={handleDragEnd}>\r\n      <div className={styles.canvas}>\r\n        {componentList\r\n          .filter((c) => !c.isHidden)\r\n          .map((c) => {\r\n            const { fe_id, isLocked } = c;\r\n\r\n            const wrapperDefaultClassName = styles[\"component-wrapper\"];\r\n            const selectedClassName = styles.selected;\r\n            const lockedClassName = styles.locked;\r\n            const wrapperClassName = classNames({\r\n              [wrapperDefaultClassName]: true,\r\n              [selectedClassName]: fe_id === selectedId,\r\n              [lockedClassName]: isLocked,\r\n            });\r\n            return (\r\n              <SortableItem key={fe_id} id={fe_id}>\r\n                <div\r\n                  className={wrapperClassName}\r\n                  onClick={(e) => handleClick(e, fe_id)}\r\n                >\r\n                  <div className={styles.component}>{genComponent(c)}</div>\r\n                </div>\r\n              </SortableItem>\r\n            );\r\n          })}\r\n      </div>\r\n    </SortableContainer>\r\n  );\r\n};\r\n\r\nexport default EditCanvas;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ComponentLib_wrapper__vGUal\",\"component\":\"ComponentLib_component__+Oxbn\"};","import React, { FC } from \"react\";\r\nimport { Typography } from \"antd\";\r\nimport {\r\n  ComponentConfType,\r\n  componentConfGroup,\r\n} from \"../../../components/QuestionComponents\";\r\nimport styles from \"./ComponentLib.module.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addComponent } from \"../../../store/ComponentsReducer\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nconst { Title } = Typography;\r\n\r\nfunction GenComponent(c: ComponentConfType) {\r\n  const { title, type, Component, defaultProps } = c;\r\n  const dispatch = useDispatch();\r\n\r\n  function handleClick() {\r\n    dispatch(\r\n      addComponent({\r\n        fe_id: nanoid(),\r\n        title,\r\n        type,\r\n        props: defaultProps,\r\n      })\r\n    );\r\n  }\r\n  return (\r\n    <div key={type} className={styles.wrapper} onClick={handleClick}>\r\n      <div className={styles.component}>\r\n        <Component />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Lib: FC = () => {\r\n  return (\r\n    <>\r\n      {componentConfGroup.map((group, index) => {\r\n        const { groupId, groupName, components } = group;\r\n        return (\r\n          <div key={groupId} >\r\n            <Title\r\n              level={3}\r\n              style={{\r\n                fontSize: \"16px\",\r\n                marginTop: index > 0 ? \"6px\" : \"0px\",\r\n              }}\r\n            >\r\n              {groupName}\r\n            </Title>\r\n            {components.map((c) => GenComponent(c))}\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Lib;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Layers_wrapper__0Vo73\",\"title\":\"Layers_title__2DX0i\",\"selected\":\"Layers_selected__mwsYP\",\"handler\":\"Layers_handler__M0z2K\",\"btn\":\"Layers_btn__lwLs0\"};","import React, { ChangeEvent, FC, useState } from \"react\";\r\nimport useGetComponentInfo from \"../../../hooks/useGetComponentInfo\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Button, Input, Space, message } from \"antd\";\r\nimport {\r\n  changeComponentHidden,\r\n  changeComponentTitle,\r\n  changeSelectedId,\r\n  moveComponent,\r\n  toggleComponentLocked,\r\n} from \"../../../store/ComponentsReducer\";\r\nimport classNames from \"classnames\";\r\nimport styles from \"./Layers.module.scss\";\r\nimport { EyeInvisibleOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport SortableContainer from \"../../../components/DragSortable/SortableContainer\";\r\nimport SortableItem from \"../../../components/DragSortable/SortableItem\";\r\nconst Layers: FC = () => {\r\n  const { componentList, selectedId } = useGetComponentInfo();\r\n  const dispatch = useDispatch();\r\n\r\n  const [changingTitleId, setChangingTitleId] = useState(\"\");\r\n\r\n  function handleTitleClick(fe_id: string) {\r\n    const curComp = componentList.find((c) => c.fe_id === fe_id);\r\n    if (curComp && curComp.isHidden) {\r\n      message.info(\"不能选中隐藏的组件\");\r\n      return;\r\n    }\r\n    if (fe_id !== selectedId) {\r\n      dispatch(changeSelectedId(fe_id));\r\n      setChangingTitleId(\"\");\r\n      return;\r\n    }\r\n\r\n    setChangingTitleId(fe_id);\r\n  }\r\n\r\n  function changeTitle(event: ChangeEvent<HTMLInputElement>) {\r\n    const newTitle = event.target.value.trim();\r\n    if (!newTitle) return;\r\n    if (!selectedId) return;\r\n    dispatch(changeComponentTitle({ fe_id: selectedId, title: newTitle }));\r\n  }\r\n\r\n  function changeHidden(fe_id: string, isHidden: boolean) {\r\n    dispatch(changeComponentHidden({ fe_id, isHidden }));\r\n  }\r\n\r\n  function changeLocked(fe_id: string) {\r\n    dispatch(toggleComponentLocked({ fe_id }));\r\n  }\r\n\r\n  const componentListWithId = componentList.map((c) => {\r\n    return { ...c, id: c.fe_id };\r\n  });\r\n\r\n  function handleDragEnd(oldIndex: number, newIndex: number) {\r\n    dispatch(moveComponent({oldIndex,newIndex}))\r\n  }\r\n\r\n  return (\r\n    <SortableContainer items={componentListWithId} onDragEnd={handleDragEnd}>\r\n      {componentList.map((c) => {\r\n        const { fe_id, title, isHidden, isLocked } = c;\r\n\r\n        const titleDefaultClassName = styles.title;\r\n        const selectedClassName = styles.selected;\r\n        const titleClassName = classNames({\r\n          [titleDefaultClassName]: true,\r\n          [selectedClassName]: fe_id === selectedId,\r\n        });\r\n        return (\r\n          <SortableItem key={fe_id} id={fe_id}>\r\n            <div className={styles.wrapper}>\r\n              <div\r\n                className={titleClassName}\r\n                onClick={() => handleTitleClick(fe_id)}\r\n              >\r\n                {fe_id === changingTitleId && (\r\n                  <Input\r\n                    value={title}\r\n                    onChange={changeTitle}\r\n                    onPressEnter={() => setChangingTitleId(\"\")}\r\n                    onBlur={() => setChangingTitleId(\"\")}\r\n                  />\r\n                )}\r\n                {fe_id !== changingTitleId && title}\r\n              </div>\r\n              <div className={styles.handler}>\r\n                <Space>\r\n                  <Button\r\n                    size=\"small\"\r\n                    shape=\"circle\"\r\n                    className={!isHidden ? styles.btn : \"\"}\r\n                    icon={<EyeInvisibleOutlined />}\r\n                    type={isHidden ? \"primary\" : \"text\"}\r\n                    onClick={() => changeHidden(fe_id, !isHidden)}\r\n                  />\r\n                  <Button\r\n                    size=\"small\"\r\n                    shape=\"circle\"\r\n                    className={!isLocked ? styles.btn : \"\"}\r\n                    icon={<LockOutlined />}\r\n                    type={isLocked ? \"primary\" : \"text\"}\r\n                    onClick={() => changeLocked(fe_id)}\r\n                  />\r\n                </Space>\r\n              </div>\r\n            </div>\r\n          </SortableItem>\r\n        );\r\n      })}\r\n    </SortableContainer>\r\n  );\r\n};\r\n\r\nexport default Layers;\r\n","import React, { FC } from \"react\";\r\nimport { AppstoreOutlined, BarsOutlined } from \"@ant-design/icons\";\r\nimport { Space, Tabs } from \"antd\";\r\nimport Lib from \"./ComponentLib\";\r\nimport Layers from \"./Layers\";\r\nconst LeftPanel: FC = () => {\r\n  const tabsItems = [\r\n    {\r\n      key: \"componentLib\",\r\n      label: (\r\n        <Space>\r\n          <AppstoreOutlined />\r\n          组件库\r\n        </Space>\r\n      ),\r\n      children: <Lib/>,\r\n    },\r\n    {\r\n      key: \"layers\",\r\n      label: (\r\n        <Space>\r\n          <BarsOutlined />\r\n          图层\r\n        </Space>\r\n      ),\r\n      children: <Layers/>,\r\n    },\r\n  ];\r\n  return <Tabs defaultActiveKey=\"componentLib\" items={tabsItems} />;\r\n};\r\n\r\nexport default LeftPanel;\r\n","import React, { FC } from \"react\";\r\nimport useGetComponentInfo from \"../../../hooks/useGetComponentInfo\";\r\nimport {\r\n  ComponentPropsType,\r\n  getComponentConfByType,\r\n} from \"../../../components/QuestionComponents\";\r\nimport { changeComponentProps } from \"../../../store/ComponentsReducer\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst NoProp: FC = () => {\r\n  return <div style={{ textAlign: \"center\" }}>未选中组件</div>;\r\n};\r\n\r\nconst ComponentProp: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { selectedComponent } = useGetComponentInfo();\r\n  if (selectedComponent == null) return <NoProp />;\r\n  const { type, props, isLocked, isHidden } = selectedComponent;\r\n  const componentConf = getComponentConfByType(type);\r\n  if (componentConf == null) return <NoProp />;\r\n  const { PropComponent } = componentConf;\r\n\r\n  function changeProps(newProps: ComponentPropsType) {\r\n    if (selectedComponent == null) return;\r\n    const { fe_id } = selectedComponent;\r\n    dispatch(changeComponentProps({ fe_id, newProps }));\r\n  }\r\n\r\n  return (\r\n    <PropComponent\r\n      {...props}\r\n      onChange={changeProps}\r\n      disabled={isLocked || isHidden}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ComponentProp;\r\n","import React, { FC, useEffect } from 'react'\r\nimport { Form, Input } from 'antd'\r\nimport { useDispatch } from 'react-redux'\r\nimport useGetPageInfo from '../../../hooks/useGetPageInfo'\r\nimport { resetPageInfo } from '../../../store/pageInfoReducer'\r\n\r\nconst { TextArea } = Input\r\n\r\nconst PageSetting: FC = () => {\r\n  const pageInfo = useGetPageInfo()\r\n  const [form] = Form.useForm()\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(pageInfo)\r\n  }, [pageInfo])\r\n\r\n  function handleValuesChange() {\r\n    dispatch(resetPageInfo(form.getFieldsValue()))\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      initialValues={pageInfo}\r\n      onValuesChange={handleValuesChange}\r\n      form={form}\r\n    >\r\n      <Form.Item label=\"问卷标题\" name=\"title\" rules={[{ required: true, message: '请输入标题' }]}>\r\n        <Input placeholder=\"请输入标题\" />\r\n      </Form.Item>\r\n      <Form.Item label=\"问卷描述\" name=\"desc\">\r\n        <TextArea placeholder=\"问卷描述...\" />\r\n      </Form.Item>\r\n      <Form.Item label=\"样式代码\" name=\"css\">\r\n        <TextArea placeholder=\"输入 CSS 样式代码...\" />\r\n      </Form.Item>\r\n      <Form.Item label=\"脚本代码\" name=\"js\">\r\n        <TextArea placeholder=\"输入 JS 脚本代码...\" />\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default PageSetting\r\n","import { Space, Tabs } from \"antd\";\r\nimport React, { FC, useEffect, useState } from \"react\";\r\nimport { FileTextOutlined, SettingOutlined } from \"@ant-design/icons\";\r\nimport ComponentProp from \"./ComponentProp\";\r\nimport useGetComponentInfo from \"../../../hooks/useGetComponentInfo\";\r\nimport PageSetting from \"./PageSetting\";\r\n\r\nenum TAB_KEYS{\r\n  PROP_KEY='prop',\r\n  SETTING_KEY='setting'\r\n}\r\nconst RightPanel: FC = () => {\r\n  const [activeKey, setActiveKey] = useState(TAB_KEYS.PROP_KEY);\r\n  const { selectedId } = useGetComponentInfo();\r\n\r\n  useEffect(() => {\r\n    if (selectedId) setActiveKey(TAB_KEYS.PROP_KEY);\r\n    else setActiveKey(TAB_KEYS.SETTING_KEY);\r\n  }, [selectedId]);\r\n\r\n  const tabsItems = [\r\n    {\r\n      key: TAB_KEYS.PROP_KEY,\r\n      label: (\r\n        <Space>\r\n          <FileTextOutlined />\r\n          属性\r\n        </Space>\r\n      ),\r\n      children: <ComponentProp />,\r\n    },\r\n    {\r\n      key: TAB_KEYS.SETTING_KEY,\r\n      label: (\r\n        <Space>\r\n          <SettingOutlined />\r\n          页面设置\r\n        </Space>\r\n      ),\r\n      children: <PageSetting/>,\r\n    },\r\n  ];\r\n  return <Tabs activeKey={activeKey} items={tabsItems} />;\r\n};\r\n\r\nexport default RightPanel;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header-wrapper\":\"EditHeader_header-wrapper__oM6Ym\",\"header\":\"EditHeader_header__jKH4q\",\"h1\":\"EditHeader_h1__Re68a\",\"left\":\"EditHeader_left__63WhQ\",\"main\":\"EditHeader_main__Mmg6p\",\"right\":\"EditHeader_right__WL0se\"};","import React, { FC } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  changeComponentHidden,\r\n  copySelectedComponent,\r\n  moveComponent,\r\n  pasteCopiedComponent,\r\n  removeSelectedComponent,\r\n  toggleComponentLocked,\r\n} from \"../../../store/ComponentsReducer\";\r\nimport { Button, Space, Tooltip } from \"antd\";\r\nimport {\r\n  BlockOutlined,\r\n  CopyOutlined,\r\n  DeleteOutlined,\r\n  DownOutlined,\r\n  EyeInvisibleOutlined,\r\n  LockOutlined,\r\n  RedoOutlined,\r\n  UndoOutlined,\r\n  UpOutlined,\r\n} from \"@ant-design/icons\";\r\nimport useGetComponentInfo from \"../../../hooks/useGetComponentInfo\";\r\nimport { ActionCreators as UndoActionCreators } from 'redux-undo'\r\n\r\n\r\nconst EditToolbar: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { selectedId, selectedComponent, copiedComponent, componentList } =\r\n    useGetComponentInfo();\r\n  const { isLocked } = selectedComponent || {};\r\n  const length = componentList.length;\r\n  const selectedIndex = componentList.findIndex((c) => c.fe_id === selectedId);\r\n  const isFirst = selectedIndex <= 0;\r\n  const isLast = selectedIndex + 1 >= length;\r\n\r\n  function handleDelete() {\r\n    dispatch(removeSelectedComponent());\r\n  }\r\n\r\n  function handlehidden() {\r\n    dispatch(changeComponentHidden({ fe_id: selectedId, isHidden: true }));\r\n  }\r\n\r\n  function handleLock() {\r\n    dispatch(toggleComponentLocked({ fe_id: selectedId }));\r\n  }\r\n\r\n  function copy() {\r\n    dispatch(copySelectedComponent());\r\n  }\r\n\r\n  function paste() {\r\n    dispatch(pasteCopiedComponent());\r\n  }\r\n\r\n  function moveUp() {\r\n    if (isFirst) return;\r\n    dispatch(\r\n      moveComponent({ oldIndex: selectedIndex, newIndex: selectedIndex - 1 })\r\n    );\r\n  }\r\n\r\n  function moveDown() {\r\n    if (isLast) return;\r\n    dispatch(\r\n      moveComponent({ oldIndex: selectedIndex, newIndex: selectedIndex + 1 })\r\n    );\r\n  }\r\n\r\n  function undo() {\r\n    dispatch(UndoActionCreators.undo())\r\n  }\r\n\r\n  // 重做\r\n  function redo() {\r\n    dispatch(UndoActionCreators.redo())\r\n  }\r\n\r\n  return (\r\n    <Space>\r\n      <Tooltip title=\"删除\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<DeleteOutlined />}\r\n          onClick={handleDelete}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"隐藏\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<EyeInvisibleOutlined />}\r\n          onClick={handlehidden}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"锁定\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<LockOutlined />}\r\n          onClick={handleLock}\r\n          type={isLocked ? \"primary\" : \"default\"}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"复制\">\r\n        <Button shape=\"circle\" icon={<CopyOutlined />} onClick={copy} />\r\n      </Tooltip>\r\n      <Tooltip title=\"粘贴\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<BlockOutlined />}\r\n          onClick={paste}\r\n          disabled={copiedComponent == null}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"上移\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<UpOutlined />}\r\n          onClick={moveUp}\r\n          disabled={isFirst}\r\n        ></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"下移\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<DownOutlined />}\r\n          onClick={moveDown}\r\n          disabled={isLast}\r\n        ></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"撤销\">\r\n        <Button shape=\"circle\" icon={<UndoOutlined />} onClick={undo}></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"重做\">\r\n        <Button shape=\"circle\" icon={<RedoOutlined />} onClick={redo}></Button>\r\n      </Tooltip>\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default EditToolbar;\r\n","import React, { ChangeEvent, FC, useRef, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport styles from \"./EditHeader.module.scss\";\r\nimport { Button, Input, InputRef, Space, Typography, message } from \"antd\";\r\nimport { EditOutlined, LeftOutlined, LoadingOutlined } from \"@ant-design/icons\";\r\nimport EditToolbar from \"./EditToolbar\";\r\nimport useGetPageInfo from \"../../../hooks/useGetPageInfo\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changePageTitle } from \"../../../store/pageInfoReducer\";\r\nimport useGetComponentInfo from \"../../../hooks/useGetComponentInfo\";\r\nimport { updateQuestionService } from \"../../../services/question\";\r\nimport { useDebounceEffect, useKeyPress, useRequest } from \"ahooks\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst TitleElem: FC = () => {\r\n  const { title } = useGetPageInfo();\r\n  const inputRef = useRef<InputRef>(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const [editState, SetEditState] = useState(false);\r\n\r\n  function handleChange(event: ChangeEvent<HTMLInputElement>) {\r\n    const newTitle = event.target.value.trim();\r\n    if (!newTitle) return;\r\n    dispatch(changePageTitle(newTitle));\r\n  }\r\n\r\n  if (editState) {\r\n    return (\r\n      <Input\r\n        ref={inputRef}\r\n        value={title}\r\n        onChange={handleChange}\r\n        onPressEnter={() => SetEditState(false)}\r\n        onBlur={() => SetEditState(false)}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Space style={{ margin: \"-10px 0\" }}>\r\n      <Title className={styles.h1}>{title}</Title>\r\n      <Button\r\n        icon={<EditOutlined />}\r\n        type=\"text\"\r\n        onClick={() => {\r\n          SetEditState(true);\r\n          setTimeout(() => {\r\n            inputRef.current!.focus({\r\n              cursor: \"end\",\r\n            });\r\n          }, 300);\r\n        }}\r\n      />\r\n    </Space>\r\n  );\r\n};\r\n\r\nconst SaveButton: FC = () => {\r\n  const { id } = useParams()\r\n  const { componentList = [] } = useGetComponentInfo()\r\n  const pageInfo = useGetPageInfo()\r\n\r\n  const { loading, run: save } = useRequest(\r\n    async () => {\r\n      if (!id) return\r\n      await updateQuestionService(id, { ...pageInfo, componentList })\r\n    },\r\n    { manual: true }\r\n  )\r\n\r\n  useKeyPress(['ctrl.s', 'meta.s'], (event: KeyboardEvent) => {\r\n    event.preventDefault()\r\n    if (!loading) save()\r\n  })\r\n\r\n  useDebounceEffect(\r\n    () => {\r\n      save()\r\n    },\r\n    [componentList, pageInfo],\r\n    {\r\n      wait: 1000,\r\n    }\r\n  )\r\n\r\n  return (\r\n    <Button onClick={save} disabled={loading} icon={loading ? <LoadingOutlined /> : null}>\r\n      保存\r\n    </Button>\r\n  )\r\n}\r\n\r\n// 发布按钮\r\nconst PublishButton: FC = () => {\r\n  const nav = useNavigate()\r\n  const { id } = useParams()\r\n  const { componentList = [] } = useGetComponentInfo()\r\n  const pageInfo = useGetPageInfo()\r\n\r\n  const { loading, run: pub } = useRequest(\r\n    async () => {\r\n      if (!id) return\r\n      await updateQuestionService(id, {\r\n        ...pageInfo,\r\n        componentList,\r\n        isPublished: true, // 标志着问卷已经被发布\r\n      })\r\n    },\r\n    {\r\n      manual: true,\r\n      onSuccess() {\r\n        message.success('发布成功')\r\n        nav('/question/stat/' + id) // 发布成功，跳转到统计页面\r\n      },\r\n    }\r\n  )\r\n\r\n  return (\r\n    <Button type=\"primary\" onClick={pub} disabled={loading}>\r\n      发布\r\n    </Button>\r\n  )\r\n}\r\n\r\n\r\nconst EditHeader: FC = () => {\r\n  const nav = useNavigate();\r\n\r\n  return (\r\n    <div className={styles[\"header-wrapper\"]}>\r\n      <div className={styles.header}>\r\n        <div className={styles.left}>\r\n          <Space>\r\n            <Button type=\"link\" icon={<LeftOutlined />} onClick={() => nav(-1)}>\r\n              返回\r\n            </Button>\r\n            <TitleElem />\r\n          </Space>\r\n        </div>\r\n        <div className={styles.main}>\r\n          <EditToolbar />\r\n        </div>\r\n        <div className={styles.right}>\r\n          <Space>\r\n            <SaveButton />\r\n            <PublishButton />\r\n          </Space>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditHeader;\r\n","import { useKeyPress } from \"ahooks\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  copySelectedComponent,\r\n  pasteCopiedComponent,\r\n  removeSelectedComponent,\r\n  selectNextComponent,\r\n  selectPrevComponent,\r\n} from \"../store/ComponentsReducer\";\r\nimport { ActionCreators as UndoActionCreators } from \"redux-undo\";\r\n\r\nfunction isActiveElementValid() {\r\n  const activeElem = document.activeElement;\r\n\r\n  if (activeElem == document.body) return true;\r\n  if (activeElem?.matches('div[role=\"button\"]')) return true;\r\n\r\n  return false;\r\n}\r\n\r\nfunction useBindCanvasKeyPress() {\r\n  const dispatch = useDispatch();\r\n\r\n  useKeyPress([\"backspace\", \"delete\"], () => {\r\n    if (!isActiveElementValid()) return;\r\n    dispatch(removeSelectedComponent());\r\n  });\r\n\r\n  useKeyPress([\"ctrl.c\", \"meta.c\"], () => {\r\n    if (!isActiveElementValid()) return;\r\n    dispatch(copySelectedComponent());\r\n  });\r\n\r\n  useKeyPress([\"ctrl.v\", \"meta.v\"], () => {\r\n    if (!isActiveElementValid()) return;\r\n    dispatch(pasteCopiedComponent());\r\n  });\r\n\r\n  useKeyPress(\"upArrow\", () => {\r\n    if (!isActiveElementValid()) return;\r\n    dispatch(selectPrevComponent());\r\n  });\r\n\r\n  useKeyPress(\"downArrow\", () => {\r\n    if (!isActiveElementValid()) return;\r\n    dispatch(selectNextComponent());\r\n  });\r\n\r\n  useKeyPress(\r\n    [\"ctrl.z\", \"meta.z\"],\r\n    () => {\r\n      if (!isActiveElementValid()) return;\r\n      dispatch(UndoActionCreators.undo());\r\n    },\r\n    {\r\n      exactMatch: true,\r\n    }\r\n  );\r\n\r\n  useKeyPress([\"ctrl.shift.z\", \"meta.shift.z\"], () => {\r\n    if (!isActiveElementValid()) return;\r\n    dispatch(UndoActionCreators.redo());\r\n  });\r\n}\r\n\r\nexport default useBindCanvasKeyPress;\r\n","import React, { FC } from \"react\";\r\nimport useLoadQuestionData from \"../../../hooks/useLoadQuestionData\";\r\nimport styles from \"./index.module.scss\"\r\nimport EditCanvas from \"./EditCanvas\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeSelectedId } from \"../../../store/ComponentsReducer\";\r\nimport LeftPanel from \"./LeftPanel\";\r\nimport RightPanel from \"./RightPanel\";\r\nimport EditHeader from \"./EditHeader\";\r\nimport useBindCanvasKeyPress from \"../../../hooks/useBindCanvasKeyPress\";\r\nconst Edit: FC = () => {\r\n  const { loading, data } = useLoadQuestionData();\r\n  const dispatch=useDispatch();\r\n  useBindCanvasKeyPress();\r\n\r\n  function clearSelectedId(){\r\n    dispatch(changeSelectedId(''))\r\n  }\r\n  \r\n  return (\r\n    <div className={styles.container}>\r\n      <div style={{backgroundColor:'#fff'}}>\r\n        <EditHeader/>\r\n      </div>\r\n      <div className={styles['content-wrapper']}>\r\n        <div className={styles.content}>\r\n          <div className={styles.left}><LeftPanel/></div>\r\n          <div className={styles.main} onClick={clearSelectedId}>\r\n            <div className={styles['canvas-wrapper']}>\r\n              <EditCanvas loading={loading}/>\r\n            </div>\r\n          </div>\r\n          <div className={styles.right}><RightPanel/></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Edit;\r\n"],"names":["props","children","items","onDragEnd","sensors","useSensors","useSensor","MouseSensor","activationConstraint","distance","_jsx","DndContext","collisionDetection","closestCenter","event","active","over","id","oldIndex","findIndex","c","fe_id","newIndex","SortableContext","strategy","verticalListSortingStrategy","_ref","attributes","listeners","setNodeRef","transform","transition","useSortable","style","CSS","Transform","toString","ref","genComponent","componentInfo","type","componentConf","getComponentConfByType","Component","loading","componentList","selectedId","useGetComponentInfo","dispatch","useDispatch","textAlign","marginTop","Spin","componentListWithId","map","SortableContainer","moveComponent","className","styles","filter","isHidden","isLocked","wrapperDefaultClassName","selectedClassName","lockedClassName","wrapperClassName","classNames","SortableItem","onClick","e","handleClick","stopPropagation","changeSelectedId","Title","Typography","Lib","_Fragment","componentConfGroup","group","index","groupId","groupName","components","_jsxs","level","fontSize","title","defaultProps","addComponent","nanoid","GenComponent","Layers","changingTitleId","setChangingTitleId","useState","changeTitle","newTitle","target","value","trim","changeComponentTitle","titleDefaultClassName","titleClassName","curComp","find","message","info","handleTitleClick","Input","onChange","onPressEnter","onBlur","Space","Button","size","shape","icon","EyeInvisibleOutlined","changeComponentHidden","changeHidden","LockOutlined","toggleComponentLocked","changeLocked","LeftPanel","tabsItems","key","label","AppstoreOutlined","BarsOutlined","Tabs","defaultActiveKey","NoProp","ComponentProp","selectedComponent","PropComponent","newProps","changeComponentProps","disabled","TextArea","PageSetting","pageInfo","useGetPageInfo","form","Form","useForm","useEffect","setFieldsValue","layout","initialValues","onValuesChange","resetPageInfo","getFieldsValue","Item","name","rules","required","placeholder","TAB_KEYS","RightPanel","activeKey","setActiveKey","PROP_KEY","SETTING_KEY","FileTextOutlined","SettingOutlined","EditToolbar","copiedComponent","length","selectedIndex","isFirst","isLast","Tooltip","DeleteOutlined","removeSelectedComponent","CopyOutlined","copySelectedComponent","BlockOutlined","pasteCopiedComponent","UpOutlined","DownOutlined","UndoOutlined","UndoActionCreators","undo","RedoOutlined","redo","TitleElem","inputRef","useRef","editState","SetEditState","changePageTitle","margin","EditOutlined","setTimeout","current","focus","cursor","SaveButton","useParams","run","save","useRequest","async","updateQuestionService","manual","useKeyPress","preventDefault","useDebounceEffect","wait","LoadingOutlined","PublishButton","nav","useNavigate","pub","isPublished","onSuccess","success","EditHeader","LeftOutlined","isActiveElementValid","activeElem","document","activeElement","body","matches","selectPrevComponent","selectNextComponent","exactMatch","Edit","data","useLoadQuestionData","useBindCanvasKeyPress","backgroundColor","EditCanvas"],"sourceRoot":""}